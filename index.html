<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Produk HanzyyOffc</title>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg: #0e0e0e;
      --text: #fff;
      --primary: #00ffcc;
      --danger: #ff4444;
    }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 2;
      padding: 30px;
      text-align: center;
    }
    .glass-box {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 25px;
      margin: 20px auto;
      max-width: 800px;
    }
    input, button, select {
      padding: 10px 15px;
      margin: 10px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }
    input {
      width: 200px;
    }
    .btn {
      background: var(--primary);
      color: black;
      font-weight: bold;
      cursor: pointer;
    }
    .btn:hover {
      background: #00ddb3;
    }
    .produk-item {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background: rgba(255,255,255,0.08);
      border-radius: 10px;
    }
    .keranjang-item {
      margin-top: 10px;
      background: rgba(255,255,255,0.1);
      padding: 10px;
      border-radius: 10px;
    }
    canvas {
      max-width: 100%;
      margin-top: 20px;
    }
  </style>
</head>
<body>
<div id="particles-js"></div>
<div class="container">

  <!-- Login Nama -->
  <div id="loginBox" class="glass-box">
    <h2>Masukkan Nama Anda</h2>
    <input type="text" id="namaUser" placeholder="Contoh: Hanzyy">
    <button class="btn" onclick="login()">Masuk</button>
  </div>

  <!-- Produk -->
  <div id="produkBox" style="display:none" class="glass-box">
    <h2>Halo, <span id="namaTampil"></span> ðŸ‘‹</h2>
    <div id="produkList"></div>
    <hr>
    <h3>Keranjang</h3>
    <div id="keranjangList"></div>
    <div id="diskonInfo"></div>
    <button class="btn" onclick="checkout()">Checkout via WhatsApp</button>
  </div>

  <!-- Statistik -->
  <div id="statistikBox" style="display:none" class="glass-box">
    <h3>ðŸ“Š Statistik Penjualan</h3>
    <label>Dari: <input type="date" id="fromDate"></label>
    <label>Sampai: <input type="date" id="toDate"></label>
    <button class="btn" onclick="filterStatistik()">Tampilkan</button>
    <canvas id="chartPenjualan" height="200"></canvas>
  </div>

</div>
<script>
const produk = [
  { nama: "Script WhatsApp Bot", harga: 50000 },
  { nama: "Script Telegram Auto Reply", harga: 45000 },
  { nama: "Obfuscator JS", harga: 60000 },
  { nama: "Panel Web Payment", harga: 70000 },
  { nama: "Script SlayerV4", harga: 25000 },
  { nama: "Admin Panel Private", harga: 20000 },
  { nama: "Admin Panel Public", harga: 15000 },
  { nama: "Panel Unlimited", harga: 10000 }
];

let keranjang = [];
let namaUser = '';

function login() {
  const nama = document.getElementById("namaUser").value.trim();
  if (!nama) return alert("Nama wajib diisi");
  namaUser = nama;
  document.getElementById("namaTampil").innerText = nama;
  document.getElementById("loginBox").style.display = "none";
  document.getElementById("produkBox").style.display = "block";
  document.getElementById("statistikBox").style.display = "block";
  renderProduk();
}

function renderProduk() {
  const list = document.getElementById("produkList");
  list.innerHTML = "";
  produk.forEach((p, i) => {
    const el = document.createElement("div");
    el.className = "produk-item";
    el.innerHTML = `
      <span>${p.nama} - Rp${p.harga.toLocaleString()}</span>
      <button class="btn" onclick="tambahKeranjang(${i})">+ Keranjang</button>
    `;
    list.appendChild(el);
  });
  renderKeranjang();
}

function tambahKeranjang(i) {
  keranjang.push(produk[i]);
  renderKeranjang();
}

function renderKeranjang() {
  const wrap = document.getElementById("keranjangList");
  wrap.innerHTML = "";
  let total = 0;
  keranjang.forEach((item, index) => {
    total += item.harga;
    const el = document.createElement("div");
    el.className = "keranjang-item";
    el.innerHTML = `
      ${item.nama} - Rp${item.harga.toLocaleString()}
      <button onclick="hapusItem(${index})" style="float:right;color:red;">X</button>
    `;
    wrap.appendChild(el);
  });

  let diskon = total >= 100000 ? total * 0.1 : 0;
  document.getElementById("diskonInfo").innerHTML = `
    <p>Total: <b>Rp${total.toLocaleString()}</b></p>
    <p>Diskon: <b>Rp${diskon.toLocaleString()}</b></p>
    <p><b>Total Bayar: Rp${(total - diskon).toLocaleString()}</b></p>
  `;
}

function hapusItem(i) {
  keranjang.splice(i, 1);
  renderKeranjang();
}

function checkout() {
  if (keranjang.length === 0) return alert("Keranjang kosong!");
  let pesan = `Halo saya ${namaUser}, saya ingin membeli:\n\n`;
  let total = 0;
  keranjang.forEach((p, i) => {
    pesan += `- ${p.nama} = Rp${p.harga.toLocaleString()}\n`;
    total += p.harga;
  });

  let diskon = total >= 100000 ? total * 0.1 : 0;
  let bayar = total - diskon;

  pesan += `\nTotal: Rp${total.toLocaleString()}`;
  if (diskon > 0) {
    pesan += `\nDiskon: Rp${diskon.toLocaleString()}`;
  }
  pesan += `\nTotal Bayar: Rp${bayar.toLocaleString()}`;

  let url = "https://wa.me/6281234567890?text=" + encodeURIComponent(pesan);
  window.open(url, '_blank');
}

// Simulasi data penjualan
const dataPenjualan = [
  {"tanggal":"2025-06-11","total":20000},
  {"tanggal":"2025-06-12","total":250000},
  {"tanggal":"2025-06-13","total":250000},
  {"tanggal":"2025-06-14","total":30000},
  {"tanggal":"2025-06-15","total":60000},
  {"tanggal":"2025-06-16","total":80000},
  {"tanggal":"2025-06-17","total":20000},
  {"tanggal":"2025-06-18","total":225000},
  {"tanggal":"2025-06-19","total":300000},
  {"tanggal":"2025-06-20","total":30000},
  {"tanggal":"2025-06-21","total":40000},
  {"tanggal":"2025-06-22","total":10000},
  {"tanggal":"2025-06-23","total":75000},
  {"tanggal":"2025-06-24","total":375000},
  {"tanggal":"2025-06-25","total":20000},
  {"tanggal":"2025-06-26","total":375000},
  {"tanggal":"2025-06-27","total":50000},
  {"tanggal":"2025-06-28","total":150000},
  {"tanggal":"2025-06-29","total":75000},
  {"tanggal":"2025-06-30","total":10000},
  {"tanggal":"2025-07-01","total":20000},
  {"tanggal":"2025-07-02","total":100000},
  {"tanggal":"2025-07-03","total":75000},
  {"tanggal":"2025-07-04","total":20000},
  {"tanggal":"2025-07-05","total":150000},
  {"tanggal":"2025-07-06","total":80000},
  {"tanggal":"2025-07-07","total":60000},
  {"tanggal":"2025-07-08","total":225000},
  {"tanggal":"2025-07-09","total":10000},
  {"tanggal":"2025-07-10","total":50000}
];

function filterStatistik() {
  const from = document.getElementById("fromDate").value;
  const to = document.getElementById("toDate").value;
  if (!from || !to) return alert("Pilih rentang tanggal!");

  const filtered = dataPenjualan.filter(d => d.tanggal >= from && d.tanggal <= to);
  const labels = filtered.map(d => d.tanggal);
  const values = filtered.map(d => d.total);

  const ctx = document.getElementById("chartPenjualan").getContext("2d");
  if (window.penjualanChart) window.penjualanChart.destroy();
  window.penjualanChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [{
        label: 'Total Penjualan',
        backgroundColor: '#00ffccaa',
        borderColor: '#00ffcc',
        data: values
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: { beginAtZero: true }
      }
    }
  });
}
</script>
